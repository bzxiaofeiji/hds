<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="./blessing.css">
</head>
<body>
    <div id="uploadbox">
        <input type="text" placeholder="昵称" class="hds-username" reg="^\d{5,10}$" errorText="用户名格式不正确">
        <input type="text" placeholder="QQ" class="hds-contact" reg="^\d{5,10}$" errorText="QQ号格式不下正确">
        <textarea placeholder="内容" class="hds-content"></textarea>
        <input type="button" class="hds-submit">
    </div>
    <div class="wrap">
        <div id="blessing" class="blessing">
        </div>
    </div>
    <div id="pagewrap"></div>
    <script src="../../hds-v1.0.js"></script>
    <!--<script src="../../build/hds-v1.0.js"></script>-->
    <script>
        var ble = hds.blessing({
            aid:103,
            cid:4,
            origin:'ptbus',
            clearVal:true,
            container:'blessing',
            pageWrap:'pagewrap',
            showFirst:false,
            showLast:false,
            skip:true,
            onInit:db=>{
                // console.log(db);
            },
            success:msg=>{
                alert('数据提交成功');
                ble.reload();
            },
            render:db=>{
                var html = [];
                for(var i=0,len = db.length;i<len;++i){
                    if(db[i]){
                        html.push('<div class="blessing-item">');
                        html.push('<div class="icon"></div>');
                        html.push('<p>'+db[i].content);
                        html.push('</p>');
                        html.push('</div>');
                    }
                }
                return html.join('');
            }
        });


    </script>
</body>
</html>